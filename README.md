# test-backend

Бэкенд для тестового задания

# work with

1. установите npm модули командой `npm i`;
2. запустите коммандой `npm run dev`.
3. в папке "клиенты" лежат файлы для подключения к серверу (пользователь и техника)
4. Для их запуска необходимо ввести в отдельных терминалах: "node имя_файла.js"

# Вводная информация

Данный проект имитирует работу сервера. Настроено сокетное подключение двух типов клиентов.

Ваша задачи:

1. Сделать сокетный слушатель "telemetry" для техники, на который техника будет делать эмит (пространство имен /vehicleApi) с данными:
2. 
```typescript
{
    id: 1,
    speed: 40,
    charge: 98
}
```

2. Эти данные сохранять в кэш переменную на сервере. Это может быть либо массив объектов или объект с объектами ключами которых является id:

```typescript
    [{
        id: 1,
        speed: 40,
        charge: 98
    }]
```
Или

```typescript
   {
     "1": {
         id: 1,
         speed: 40,
         charge: 98
     }
   }
```

4. Сделать слушатель "telemetry" для пользователя (пространство имен пользователя /vehicles), куда он будет отсылать

```typescript 
{ 
    id: 1 
}
```

для получения телеметри техники по id
5. Получать объект с данными техники из кэша сервера и возвращать их пользователю по сокету колбэком
6. Сделать API получения данных всей техники из кэша.


# API

### Получение списка данных всей техники

Запрос:

```typescript
axios({
  method: 'get',
  url: '/vehicles',
});
```

Ответ:

```typescript
{
    "vehicles": Array<{
        "id": number,
        "speed": number,
        "charge": number
    }>
}
```
